{
  if (SHOW_LOGS)   Logger.v(TAG,">> calculateItemsVisibility");
  if (SHOW_LOGS)   Logger.v(TAG,"calculateItemsVisibility, firstVisibleItem " + firstVisibleItem + ", visibleItemCount "+ visibleItemCount+ ", scrollState "+ scrollStateStr(scrollState));
  mScrollDirectionDetector.onDetectedListScroll(listView,firstVisibleItem);
  if (scrollState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {
    View currentView=mCurrentView.get();
    Rect currentViewRect=new Rect();
    currentView.getLocalVisibleRect(currentViewRect);
    if (SHOW_LOGS)     Logger.v(TAG,"calculateItemsVisibility, mScrollDirection " + mScrollDirection);
    if (SHOW_LOGS)     Logger.v(TAG,"calculateItemsVisibility, mEnclosureTop " + mEnclosureTop + ", mEnclosureBottom "+ mEnclosureBottom+ ", rect "+ currentViewRect);
switch (mScrollDirection) {
case UP:
      break;
case DOWN:
    calcCurrentViewVisibility(currentView,currentViewRect);
  int indexOfCurrentView=listView.indexOfChild(currentView);
if (SHOW_LOGS) Logger.v(TAG,"calculateItemsVisibility, indexOfCurrentView " + indexOfCurrentView);
View nextView=listView.getChildAt(indexOfCurrentView + 1);
if (nextView != null) {
calcNextViewVisibility(nextView);
}
 else {
if (SHOW_LOGS) Logger.v(TAG,"calculateItemsVisibility, nextView null");
}
break;
}
}
if (SHOW_LOGS) Logger.v(TAG,"<< calculateItemsVisibility");
}
